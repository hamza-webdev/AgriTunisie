{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hamza.bedoui\\\\Documents\\\\mesDocs\\\\AI\\\\AgriTunisie\\\\agritunisie-frontend\\\\src\\\\pages\\\\parcelles\\\\ParcelleDetailPage.js\";\n// src/pages/parcelles/ParcelleDetailPage.js\nimport { CulturesCataloguePage } from './pages/cultures/CulturesCataloguePage'; // Correct\nexport const ParcelleDetailPage = ({\n  navigateTo,\n  parcelleId\n}) => {\n  const [parcelle, setParcelle] = useState(null);\n  const [loadingState, setLoadingState] = useState(true);\n  const [error, setError] = useState('');\n  const {\n    logout\n  } = useAuth();\n  useEffect(() => {\n    if (parcelleId) {\n      setLoadingState(true);\n      parcelleService.getParcelleById(parcelleId).then(data => {\n        setParcelle(data);\n        setLoadingState(false);\n      }).catch(err => {\n        setError(err.message || \"Erreur chargement détails parcelle.\");\n        if (err.message.includes(\"401\")) {\n          logout();\n          navigateTo('login');\n        }\n        setLoadingState(false);\n      });\n    }\n  }, [parcelleId, logout, navigateTo]);\n  if (loadingState) return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center mt-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(LoadingSpinner, {\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 73\n    }\n  }));\n  if (error) return /*#__PURE__*/React.createElement(Alert, {\n    message: error,\n    type: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 23\n    }\n  });\n  if (!parcelle) return /*#__PURE__*/React.createElement(Alert, {\n    message: \"Parcelle non trouv\\xE9e.\",\n    type: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 27\n    }\n  });\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-between items-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-3xl font-bold text-gray-800 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 63\n    }\n  }, parcelle.nom_parcelle), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => navigateTo(`editParcelle/${parcelle.id}`),\n    variant: \"secondary\",\n    Icon: Edit3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 145\n    }\n  }, \"Modifier\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-600 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, parcelle.description || \"Aucune description.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-lg font-semibold text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 22\n    }\n  }, \"Informations G\\xE9n\\xE9rales\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"mt-2 space-y-1 text-sm text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 101\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 154\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 158\n    }\n  }, \"Superficie:\"), \" \", parcelle.superficie_calculee_ha || 'N/A', \" ha\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 237\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 241\n    }\n  }, \"Type de sol:\"), \" \", parcelle.type_sol_predominant || 'N/A'), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 316\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 320\n    }\n  }, \"Date de cr\\xE9ation:\"), \" \", new Date(parcelle.date_creation).toLocaleDateString()))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-lg font-semibold text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 22\n    }\n  }, \"G\\xE9om\\xE9trie (GeoJSON)\"), /*#__PURE__*/React.createElement(\"pre\", {\n    className: \"mt-2 bg-gray-100 p-3 rounded-md text-xs overflow-x-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 98\n    }\n  }, JSON.stringify(parcelle.geometrie, null, 2) || \"Non définie\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => navigateTo('parcelles'),\n    variant: \"ghost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 35\n    }\n  }, \"Retour \\xE0 la liste\")));\n};","map":{"version":3,"names":["CulturesCataloguePage","ParcelleDetailPage","navigateTo","parcelleId","parcelle","setParcelle","useState","loadingState","setLoadingState","error","setError","logout","useAuth","useEffect","parcelleService","getParcelleById","then","data","catch","err","message","includes","React","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","LoadingSpinner","size","Alert","type","Card","nom_parcelle","Button","onClick","id","variant","Icon","Edit3","description","superficie_calculee_ha","type_sol_predominant","Date","date_creation","toLocaleDateString","JSON","stringify","geometrie"],"sources":["C:/Users/hamza.bedoui/Documents/mesDocs/AI/AgriTunisie/agritunisie-frontend/src/pages/parcelles/ParcelleDetailPage.js"],"sourcesContent":["// src/pages/parcelles/ParcelleDetailPage.js\r\nimport { CulturesCataloguePage } from './pages/cultures/CulturesCataloguePage'; // Correct\r\nexport const ParcelleDetailPage = ({ navigateTo, parcelleId }) => {\r\n    const [parcelle, setParcelle] = useState(null);\r\n    const [loadingState, setLoadingState] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const { logout } = useAuth();\r\n\r\n    useEffect(() => {\r\n        if (parcelleId) {\r\n            setLoadingState(true);\r\n            parcelleService.getParcelleById(parcelleId)\r\n                .then(data => { setParcelle(data); setLoadingState(false); })\r\n                .catch(err => {\r\n                    setError(err.message || \"Erreur chargement détails parcelle.\");\r\n                    if (err.message.includes(\"401\")) { logout(); navigateTo('login'); } setLoadingState(false);\r\n                });\r\n        }\r\n    }, [parcelleId, logout, navigateTo]);\r\n\r\n    if (loadingState) return <div className=\"flex justify-center mt-10\"><LoadingSpinner size=\"lg\" /></div>;\r\n    if (error) return <Alert message={error} type=\"error\" />;\r\n    if (!parcelle) return <Alert message=\"Parcelle non trouvée.\" type=\"warning\" />;\r\n\r\n    return (\r\n        <Card>\r\n            <div className=\"flex justify-between items-start\"><h1 className=\"text-3xl font-bold text-gray-800 mb-2\">{parcelle.nom_parcelle}</h1><Button onClick={() => navigateTo(`editParcelle/${parcelle.id}`)} variant=\"secondary\" Icon={Edit3}>Modifier</Button></div>\r\n            <p className=\"text-gray-600 mb-4\">{parcelle.description || \"Aucune description.\"}</p>\r\n            <div className=\"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div><h3 className=\"text-lg font-semibold text-gray-700\">Informations Générales</h3><ul className=\"mt-2 space-y-1 text-sm text-gray-600\"><li><strong>Superficie:</strong> {parcelle.superficie_calculee_ha || 'N/A'} ha</li><li><strong>Type de sol:</strong> {parcelle.type_sol_predominant || 'N/A'}</li><li><strong>Date de création:</strong> {new Date(parcelle.date_creation).toLocaleDateString()}</li></ul></div>\r\n                <div><h3 className=\"text-lg font-semibold text-gray-700\">Géométrie (GeoJSON)</h3><pre className=\"mt-2 bg-gray-100 p-3 rounded-md text-xs overflow-x-auto\">{JSON.stringify(parcelle.geometrie, null, 2) || \"Non définie\"}</pre></div>\r\n            </div>\r\n            <div className=\"mt-8\"><Button onClick={() => navigateTo('parcelles')} variant=\"ghost\">Retour à la liste</Button></div>\r\n        </Card>\r\n    );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}